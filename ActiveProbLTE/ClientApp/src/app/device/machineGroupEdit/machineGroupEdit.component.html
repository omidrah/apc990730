<!-- Content Wrapper. Contains page content -->
<div class="content-wrapper">
  <!-- Content Header (Page header) -->
  <section class="content-header">
    <h1>
      <span translate>DeviceToGroup</span>
      <small> {{groupTitle}}</small>
    </h1>
    <ol class="breadcrumb">
      <li><a [routerLink]="['']" translate><i class="fa fa-dashboard"></i>Home</a></li>
      <li><a [routerLink]="['/machine/Group']"><span translate>DeviceGroup</span></a></li>
      <li class="active"><span translate>DeviceToGroup</span> {{groupTitle}}</li>
    </ol>
  </section>

  <!--<app-breadcrumb></app-breadcrumb>-->
  <!-- Main content -->
  <section class="content">
    <div class="row">
      <div class="col-xs-12">
        <div class="box box-primary">
          <div class="box-body">
              <mat-form-field>
                <mat-label translate>Search</mat-label>
                <input matInput (keyup)="applyFilter($event)" #input>
              </mat-form-field>

              <div class="mat-table-container mat-elevation-z8">
                <table mat-table [dataSource]="dataSource" matSort class="table table-hover table-striped text-nowrap">


                  <ng-container matColumnDef="select">
                    <th mat-header-cell *matHeaderCellDef>
                      <!--<mat-checkbox (change)="$event ? masterToggle() : null">
      </mat-checkbox>-->
                    </th>
                    <td mat-cell *matCellDef="let element">
                      <mat-checkbox (click)="$event.stopPropagation()"
                                    [checked]="element.groupChecked"
                                    [aria-label]="checkboxLabel(element)"
                                    [(ngModel)]="element.groupChecked"
                                    (change)="checkValue(element.id,element.groupChecked)">
                      </mat-checkbox>
                    </td>
                  </ng-container>


                  <ng-container matColumnDef="index">
                    <th mat-header-cell *matHeaderCellDef><span translate>Row</span></th>
                    <td mat-cell *matCellDef="let element;let i = index;">
                      {{this.paginator.pageIndex == 0 ? i + 1 : 1 + i + this.paginator.pageIndex * this.paginator.pageSize}}
                    </td>
                  </ng-container>

                  <ng-container matColumnDef="name">
                    <th mat-header-cell *matHeaderCellDef mat-sort-header><span translate>Name</span></th>
                    <td mat-cell *matCellDef="let element"> {{element.name}} </td>
                  </ng-container>

                  <ng-container matColumnDef="identifier">
                    <th mat-header-cell *matHeaderCellDef><span translate>Identifier</span></th>
                    <td mat-cell *matCellDef="let element"> {{element.identifier}} </td>
                  </ng-container>

                  <ng-container matColumnDef="machineTypeTitle">
                    <th mat-header-cell *matHeaderCellDef mat-sort-header><span translate>Type</span></th>
                    <td mat-cell *matCellDef="let element"> {{element.machineTypeTitle}} </td>
                  </ng-container>

                  <ng-container matColumnDef="machineGroupTitle">
                    <th mat-header-cell *matHeaderCellDef mat-sort-header><span translate>MachineGroupTitle</span></th>
                    <td mat-cell *matCellDef="let element"> {{element.machineGroupTitle}} </td>
                  </ng-container>

                  <ng-container matColumnDef="Location">
                    <th mat-header-cell *matHeaderCellDef><span translate>Position</span></th>
                    <td mat-cell *matCellDef="let element"> {{element.latitude| number:'2.3'}} ,  {{element.longitude| number:'2.3'}}</td>
                  </ng-container>

                  <ng-container matColumnDef="imeI1">
                    <th mat-header-cell *matHeaderCellDef><span translate>IMEI1</span></th>
                    <td mat-cell *matCellDef="let element"> {{element.imeI1}} </td>
                  </ng-container>

                  <ng-container matColumnDef="imeI2">
                    <th mat-header-cell *matHeaderCellDef><span translate>IMEI2</span></th>
                    <td mat-cell *matCellDef="let element"> {{element.imeI2}} </td>
                  </ng-container>

                  <ng-container matColumnDef="version">
                    <th mat-header-cell *matHeaderCellDef><span translate>Version</span></th>
                    <td mat-cell *matCellDef="let element"> {{element.version}} </td>
                  </ng-container>

                  <tr mat-header-row *matHeaderRowDef="displayedColumns"></tr>
                  <tr mat-row *matRowDef="let row; columns: displayedColumns;"
                      (click)="selection.toggle(row)">
                  </tr>

                </table>
                <mat-paginator [pageSize]="10" [pageSizeOptions]="[10 , 25 , 50 , 100]" [showFirstLastButtons]="true"></mat-paginator>

              </div>
          </div><!-- /.box-body -->
          <div class="box-footer">
            <button class="btn btn-danger rowEndAligne" (click)="cancel()" translate>Cancel</button>
            <button class="btn btn-primary rowEndAligne" (click)="save()" translate>Save</button>
          </div><!-- /.box-footer -->
          <div class="overlay" *ngIf="!dataSource">
            <i class="fa fa-refresh fa-spin"></i>
          </div>
        </div><!-- /.box -->
      </div><!-- /.col -->
    </div><!-- /.row -->

  </section><!-- /.content -->
</div><!-- /.content-wrapper -->
