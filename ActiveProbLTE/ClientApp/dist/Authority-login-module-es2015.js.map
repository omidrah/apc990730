{"version":3,"sources":["webpack:///./src/app/Authority/login/login.component.html","webpack:///./src/app/Authority/login-routing.module.ts","webpack:///./src/app/Authority/login.module.ts","webpack:///./src/app/Authority/login/login.component.css","webpack:///./src/app/Authority/login/login.component.ts","webpack:///./src/app/Shared/models/user.ts"],"names":[],"mappings":"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","file":"Authority-login-module-es2015.js","sourcesContent":["module.exports = \"<div class=\\\"fullSize login-page\\\">\\r\\n  <div class=\\\"login-box\\\" style=\\\"\\\">\\r\\n\\r\\n    <div class=\\\"login-box-body\\\">\\r\\n\\r\\n\\r\\n      <div class=\\\"rowEndAligne \\\">\\r\\n        <button type=\\\"button\\\" class=\\\"btn btn-warning btn-flat\\\" style=\\\"margin:5px 10px;\\\" (click)=\\\"changeLangage('ar')\\\" translate>Persian</button>\\r\\n        <button type=\\\"button\\\" class=\\\"btn btn-warning btn-flat\\\" (click)=\\\"changeLangage('en')\\\" translate>English</button>\\r\\n      </div>\\r\\n\\r\\n      <div class=\\\"login-logo\\\">\\r\\n        <img src=\\\"/assets/dist/img/KCLogo.png\\\" alt=\\\"Alternate Text\\\" />\\r\\n      </div>\\r\\n      <div class=\\\"login-logo\\\">\\r\\n        <img class=\\\"logo\\\" src=\\\"/assets/dist/img/loginActivProb.png\\\" alt=\\\"سامانه پایش شبکه\\\" style=\\\"margin: auto; height: 150px\\\" />\\r\\n      </div><!-- /.login-logo -->\\r\\n\\r\\n      <form [formGroup]=\\\"loginForm\\\" (ngSubmit)=\\\"onSubmit()\\\" id=\\\"form1\\\" *ngIf=\\\"!showForgetPass\\\">\\r\\n        <div class=\\\"form-group has-feedback\\\">\\r\\n          <input type=\\\"email\\\" class=\\\"form-control\\\" placeholder=\\\"{{ 'TestDataUserName' | translate }}\\\" formControlName=\\\"username\\\">\\r\\n          <span class=\\\"fa fa-user form-control-feedback\\\"></span>\\r\\n        </div>\\r\\n        <div class=\\\"form-group has-feedback\\\">\\r\\n          <input type=\\\"password\\\" class=\\\"form-control\\\" placeholder=\\\"{{ 'TestDataPassword' | translate }}\\\" formControlName=\\\"password\\\">\\r\\n          <span class=\\\"fa fa-lock form-control-feedback\\\"></span>\\r\\n        </div>\\r\\n        <div class=\\\"row\\\">\\r\\n          <!-- /.col -->\\r\\n          <div class=\\\"col-xs-12\\\">\\r\\n            <button type=\\\"submit\\\" class=\\\"btn btn-warning btn-block btn-flat\\\" translate>Login</button>\\r\\n          </div><!-- /.col -->\\r\\n        </div>\\r\\n      </form>\\r\\n\\r\\n      <div *ngIf=\\\"showForgetPass\\\">\\r\\n        <div class=\\\"form-group has-feedback\\\">\\r\\n          <input type=\\\"email\\\" class=\\\"form-control\\\" placeholder=\\\"{{ 'Email' | translate }}\\\" [(ngModel)]=\\\"email\\\">\\r\\n          <span class=\\\"fa fa-envelope form-control-feedback\\\"></span>\\r\\n        </div>\\r\\n        <div class=\\\"row\\\">\\r\\n          <!-- /.col -->\\r\\n          <div class=\\\"col-xs-12\\\">\\r\\n            <button type=\\\"submit\\\" class=\\\"btn btn-warning btn-block btn-flat\\\" translate>SendNewPassword</button>\\r\\n          </div><!-- /.col -->\\r\\n        </div>\\r\\n      </div>\\r\\n      <br />\\r\\n      <button type=\\\"button\\\" class=\\\"btn btn-link text-decoration-none\\\" (click)=\\\"showForgetPass = !showForgetPass\\\" ng-model=\\\"showForgetPass\\\" style=\\\"text-decoration:none;\\\" translate>ForgotPassword</button>\\r\\n\\r\\n    </div><!-- /.login-box-body -->\\r\\n  </div><!-- /.login-box -->\\r\\n</div>\\r\\n\"","import { LoginComponent } from './login/login.component';\r\nimport { NgModule } from \"@angular/core\";\r\nimport { Routes, RouterModule } from \"@angular/router\";\r\nconst routes: Routes = [\r\n    { path:'',\r\n        children:[            \r\n            { path:'',component:LoginComponent}\r\n        ]      \r\n    }  \r\n  ];\r\n@NgModule({\r\n    imports:[RouterModule.forChild(routes)],\r\n    exports:[RouterModule]\r\n})\r\nexport class LoginRoutingModule{}\r\n","import { sharedModule } from './../Shared/shared.modules';\r\nimport { LoginRoutingModule } from './login-routing.module';\r\nimport { LoginComponent } from './login/login.component';\r\nimport { NgModule } from \"@angular/core\";\r\n\r\n@NgModule({\r\n  declarations:[\r\n      LoginComponent\r\n  ],\r\n  exports:[],\r\n  imports:[\r\n    sharedModule,  \r\n    LoginRoutingModule\r\n  ]  \r\n})\r\n\r\nexport class LoginModule{}\r\n","module.exports = \".fullSize{\\r\\n  position: fixed;\\r\\n  height: 100%;\\r\\n  width: 100%;\\r\\n}\\r\\n\\r\\n/*# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbInNyYy9hcHAvQXV0aG9yaXR5L2xvZ2luL2xvZ2luLmNvbXBvbmVudC5jc3MiXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6IkFBQUE7RUFDRSxlQUFlO0VBQ2YsWUFBWTtFQUNaLFdBQVc7QUFDYiIsImZpbGUiOiJzcmMvYXBwL0F1dGhvcml0eS9sb2dpbi9sb2dpbi5jb21wb25lbnQuY3NzIiwic291cmNlc0NvbnRlbnQiOlsiLmZ1bGxTaXple1xyXG4gIHBvc2l0aW9uOiBmaXhlZDtcclxuICBoZWlnaHQ6IDEwMCU7XHJcbiAgd2lkdGg6IDEwMCU7XHJcbn1cclxuIl19 */\"","import { Component, OnInit, ViewEncapsulation } from '@angular/core';\r\nimport { Router, ActivatedRoute } from '@angular/router';\r\nimport { FormBuilder, FormGroup, Validators } from '@angular/forms';\r\nimport { AuthenticationService } from '../../Shared/services/authentication.service';\r\nimport { User } from './../../Shared/models/user';\r\nimport { ToastrService } from 'ngx-toastr';\r\nimport { TranslateService } from '@ngx-translate/core';\r\n\r\n@Component({\r\n  selector: 'app-login',\r\n  templateUrl: './login.component.html',\r\n  styleUrls: ['./login.component.css'],\r\n  encapsulation: ViewEncapsulation.None,\r\n})\r\nexport class LoginComponent implements OnInit {\r\n  loginForm: FormGroup;\r\n  submitted = false;\r\n  returnUrl: string;\r\n  constructor(\r\n    private formBuilder: FormBuilder,\r\n    private route: ActivatedRoute,\r\n    private router: Router,\r\n    private authenticationService: AuthenticationService,\r\n    private toastrService: ToastrService,\r\n    private translate: TranslateService,\r\n    ) {\r\n    // redirect to home if already logged in\r\n    if (this.authenticationService.currentUser) {\r\n      this.router.navigate(['/']);\r\n    }\r\n  }\r\n  ngOnInit() {\r\n    //this.authenticationService.logout();\r\n    this.loginForm = this.formBuilder.group({\r\n      username: ['', Validators.required],\r\n      password: ['', Validators.required]\r\n    });\r\n    // get return url from route parameters or default to '/'\r\n    this.returnUrl = this.route.snapshot.queryParams['returnUrl'];\r\n  }\r\n  // convenience getter for easy access to form fields\r\n  get f() { return this.loginForm.controls; }\r\n  onSubmit() {\r\n    this.submitted = true;\r\n    // stop here if form is invalid\r\n    if (this.loginForm.invalid) {\r\n      return;\r\n    }\r\n    var u = new User();\r\n    u = { firstName: \"\", lastName: \"\", username: this.f.username.value, password: this.f.password.value, id: 0, LoggedIn: false }\r\n    this.authenticationService.login(u)\r\n      //.pipe(first())\r\n      .subscribe(\r\n        data => {\r\n          if (data) {\r\n            if (this.returnUrl) {\r\n              this.router.navigate([this.returnUrl]);\r\n            } else {\r\n              this.router.navigate([\"/\"]);\r\n              //this.router.navigate([\"/machine\"]);\r\n            }\r\n\r\n            //this.toastrService.success('Success login', 'Welcome!', { timeOut: 2000 });\r\n\r\n          }\r\n          else {\r\n            //this.toastrService.warning('WrongUsernameOrPassword', 'Warning');            \r\n            this.toastrService.warning(this.translate.instant('WrongUsernameOrPassword'), this.translate.instant('Warning'));\r\n          }\r\n        },\r\n        error => {\r\n          console.log(\"Login error\", error);\r\n          //this.toastrService.warning('{{WrongUsernameOrPassword | translate}}', 'Warning');\r\n          this.toastrService.warning(this.translate.instant('WrongUsernameOrPassword'), this.translate.instant('Warning'));\r\n        });\r\n  }\r\n\r\n  changeLangage(lang: string) {\r\n\r\n    var language = localStorage.getItem('Language');\r\n    if (lang !== language) {\r\n\r\n      localStorage.setItem('Language', lang);\r\n      window.location.reload();\r\n      //  this.languageService.changeLangage(lang);\r\n    }\r\n  }\r\n}\r\n","export class User {\r\n  id: number;\r\n  username: string;\r\n  password: string;\r\n  firstName: string;\r\n  lastName: string;\r\n  LoggedIn: boolean;\r\n}\r\n"],"sourceRoot":""}